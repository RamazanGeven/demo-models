#X3D V3.1 utf8
PROFILE Interchange 
COMPONENT KeyDeviceSensor:1
COMPONENT EventUtilities:1

# Section 8.2.4.3 , paragraph 1 
# "The default values for each of the time-dependent nodes are specified such that 
# any node with default values is already inactive and resumed ..."

# Section 8.2.4.3 , paragraph 4
# If an active time-dependent node receives a set_loop FALSE event, execution continues
# until the end of the current cycle ...  

# Pressing the Control Key toggles cycle.
# Notable is smooth transition through start/stop

DEF KS KeySensor { }
DEF BT BooleanToggle {}
DEF TT1 TimeTrigger {}

ROUTE KS.controlKey TO BT.set_boolean


DEF TimerBend TimeSensor {
      loop FALSE
      cycleInterval 2.0
              }#TimeSensor
DEF CoordInterpBend CoordinateInterpolator {
      key [0.0, 0.5, 1.0]
      keyValue [
-10 100 0 -7.07107019 100 -7.07107019 0 100 -10 7.07107019 100 -7.07107019 10 100 0 7.07107019 100 7.07107019 0 100 10 -7.07107019 100 7.07107019 -10 66.66670227 0.00000146 -7.07107019 66.66670227 -7.07107019 0 66.66670227 -10 7.07107019 66.66670227 -7.07107019 10 66.66670227 0.00000146 7.07107019 66.66670227 7.07107019 0 66.66670227 10 -7.07107019 66.66670227 7.07107019 -10 33.33330154 0.00000291 -7.07107019 33.33330154 -7.07106018 0 33.33330154 -10 7.07107019 33.33330154 -7.07106018 10 33.33330154 0.00000291 7.07107019 33.33330154 7.07107019 0 33.33330154 10 -7.07107019 33.33330154 7.07107019 -10 0.00000381 0.00000437 -7.07107019 0.00000351 -7.07106018 0 0.00000338 -10 7.07107019 0.00000351 -7.07106018 10 0.00000381 0.00000437 7.07107019 0.00000412 7.07107019 0 0.00000425 10 -7.07107019 0.00000412 7.07107019
     
53.75159836 69.71649933 0 53.80270004 66.78800201 -7.07107019 53.92610168 59.71799850 -10 54.04949951 52.64799881 -7.07107019 54.10070038 49.71950150 0 54.04949951 52.64799881 7.07107019 53.92610168 59.71799850 10 53.80270004 66.78800201 7.07107019 20.42340088 69.13469696 0.00000146 20.47450066 66.20619965 -7.07107019 20.59790039 59.13619995 -10 20.72130013 52.06629944 -7.07107019 20.77239990 49.13779831 0.00000146 20.72130013 52.06629944 7.07107019 20.59790039 59.13619995 10 20.47450066 66.20619965 7.07107019 -8.08253002 39.71260071 0.00000291 -5.83882999 37.83000183 -7.07106018 -0.42208299 33.28480148 -10 4.99466991 28.73959923 -7.07106018 7.23835993 26.85689926 0.00000291 4.99466991 28.73959923 7.07107019 -0.42208299 33.28480148 10 -5.83882999 37.83000183 7.07107019 -10 0.00000381 0.00000437 -7.07107019 0.00000351 -7.07106018 0 0.00000338 -10 7.07107019 0.00000351 -7.07106018 10 0.00000381 0.00000437 7.07107019 0.00000412 7.07107019 0 0.00000425 10 -7.07107019 0.00000412 7.07107019

-10 100 0 -7.07107019 100 -7.07107019 0 100 -10 7.07107019 100 -7.07107019 10 100 0 7.07107019 100 7.07107019 0 100 10 -7.07107019 100 7.07107019 -10 66.66670227 0.00000146 -7.07107019 66.66670227 -7.07107019 0 66.66670227 -10 7.07107019 66.66670227 -7.07107019 10 66.66670227 0.00000146 7.07107019 66.66670227 7.07107019 0 66.66670227 10 -7.07107019 66.66670227 7.07107019 -10 33.33330154 0.00000291 -7.07107019 33.33330154 -7.07106018 0 33.33330154 -10 7.07107019 33.33330154 -7.07106018 10 33.33330154 0.00000291 7.07107019 33.33330154 7.07107019 0 33.33330154 10 -7.07107019 33.33330154 7.07107019 -10 0.00000381 0.00000437 -7.07107019 0.00000351 -7.07106018 0 0.00000338 -10 7.07107019 0.00000351 -7.07106018 10 0.00000381 0.00000437 7.07107019 0.00000412 7.07107019 0 0.00000425 10 -7.07107019 0.00000412 7.07107019
      ]
                    }#CoordinateInterpolator
ROUTE TimerBend.fraction_changed TO CoordInterpBend.set_fraction


ROUTE BT.toggle TO TimerBend.set_loop
ROUTE BT.toggle TO TT1.set_boolean
ROUTE TT1.triggerTime TO TimerBend.startTime 


Transform {
      scale 0.1 0.1 0.1
      children [Shape {
         appearance Appearance {
            texture ImageTexture {
                  url ["../textures/test_texture.png"]
                    }#ImageTexture
                    }#Appearance
         geometry IndexedFaceSet {
               coordIndex [0 1 8 -1 0 2 1 -1 0 3 2 -1 0 4 3 -1 0 5 4 -1 0 6 5 -1 0 7 6 -1 0 8 7 -1 1 2 10 -1 1 9 8 -1 1 10 9 -1 2 3 10 -1 3 4 12 -1 3 11 10 -1 3 12 11 -1 4 5 12 -1 5 6 14 -1 5 13 12 -1 5 14 13 -1 6 7 14 -1 7 8 15 -1 7 15 14 -1 8 9 17 -1 8 16 23 -1 8 17 16 -1 8 23 15 -1 9 10 17 -1 10 11 19 -1 10 18 17 -1 10 19 18 -1 11 12 19 -1 12 13 21 -1 12 20 19 -1 12 21 20 -1 13 14 21 -1 14 15 23 -1 14 22 21 -1 14 23 22 -1 16 17 24 -1 16 24 23 -1 17 18 26 -1 17 25 24 -1 17 26 25 -1 18 19 26 -1 19 20 28 -1 19 27 26 -1 19 28 27 -1 20 21 28 -1 21 22 30 -1 21 29 28 -1 21 30 29 -1 22 23 30 -1 23 24 31 -1 23 31 30 -1 24 25 26 -1 24 26 27 -1 24 27 28 -1 24 28 29 -1 24 29 30 -1 24 30 31 -1]
               texCoordIndex [32 28 33 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1 0 1 4 -1 28 24 25 -1 28 29 33 -1 28 25 29 -1 24 20 25 -1 20 16 17 -1 20 21 25 -1 20 17 21 -1 16 12 17 -1 12 8 9 -1 12 13 17 -1 12 9 13 -1 8 4 9 -1 4 1 5 -1 4 5 9 -1 33 29 30 -1 1 2 6 -1 33 30 34 -1 1 6 5 -1 29 25 30 -1 25 21 22 -1 25 26 30 -1 25 22 26 -1 21 17 22 -1 17 13 14 -1 17 18 22 -1 17 14 18 -1 13 9 14 -1 9 5 6 -1 9 10 14 -1 9 6 10 -1 34 30 35 -1 2 3 6 -1 30 26 27 -1 30 31 35 -1 30 27 31 -1 26 22 27 -1 22 18 19 -1 22 23 27 -1 22 19 23 -1 18 14 19 -1 14 10 11 -1 14 15 19 -1 14 11 15 -1 10 6 11 -1 6 3 7 -1 6 7 11 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1 3 3 3 -1]
               normalIndex [0 1 8 -1 0 2 1 -1 0 3 2 -1 0 4 3 -1 0 5 4 -1 0 6 5 -1 0 7 6 -1 0 8 7 -1 1 2 10 -1 1 9 8 -1 1 10 9 -1 2 3 10 -1 3 4 12 -1 3 11 10 -1 3 12 11 -1 4 5 12 -1 5 6 14 -1 5 13 12 -1 5 14 13 -1 6 7 14 -1 7 8 15 -1 7 15 14 -1 8 9 17 -1 8 16 23 -1 8 17 16 -1 8 23 15 -1 9 10 17 -1 10 11 19 -1 10 18 17 -1 10 19 18 -1 11 12 19 -1 12 13 21 -1 12 20 19 -1 12 21 20 -1 13 14 21 -1 14 15 23 -1 14 22 21 -1 14 23 22 -1 16 17 24 -1 16 24 23 -1 17 18 26 -1 17 25 24 -1 17 26 25 -1 18 19 26 -1 19 20 28 -1 19 27 26 -1 19 28 27 -1 20 21 28 -1 21 22 30 -1 21 29 28 -1 21 30 29 -1 22 23 30 -1 23 24 31 -1 23 31 30 -1 24 25 26 -1 24 26 27 -1 24 27 28 -1 24 28 29 -1 24 29 30 -1 24 30 31 -1]
            coord DEF Coord Coordinate {
                  point [-10.0 100.0 0.0, -7.07107 100.0 -7.07107, 0.0 100.0 -10.0, 7.07107 100.0 -7.07107, 10.0 100.0 0.0, 7.07107 100.0 7.07107, 0.0 100.0 10.0, -7.07107 100.0 7.07107, -10.0 66.6667 1.46E-6, -7.07107 66.6667 -7.07107, 0.0 66.6667 -10.0, 7.07107 66.6667 -7.07107, 10.0 66.6667 1.46E-6, 7.07107 66.6667 7.07107, 0.0 66.6667 10.0, -7.07107 66.6667 7.07107, -10.0 33.3333 2.91E-6, -7.07107 33.3333 -7.07106, 0.0 33.3333 -10.0, 7.07107 33.3333 -7.07106, 10.0 33.3333 2.91E-6, 7.07107 33.3333 7.07107, 0.0 33.3333 10.0, -7.07107 33.3333 7.07107, -10.0 3.81E-6 4.37E-6, -7.07107 3.51E-6 -7.07106, 0.0 3.38E-6 -10.0, 7.07107 3.51E-6 -7.07106, 10.0 3.81E-6 4.37E-6, 7.07107 4.12E-6 7.07107, 0.0 4.25E-6 10.0, -7.07107 4.12E-6 7.07107]
                            }#Coordinate
            normal Normal {
                  vector [-0.29431945 0.9557071 0.0, -0.6825586 0.2612039 -0.6825586, 0.0 0.7345095 -0.6785984, 0.6218758 0.4759632 -0.62187576, 0.6785984 0.7345095 0.0, 0.62187576 0.4759632 0.6218758, 0.0 0.7345095 0.6785984, -0.6825586 0.2612039 0.6825586, -1.0 -2.0E-8 0.0, -0.7071068 -1.1E-7 -0.70710677, 0.0 -7.0E-8 -1.0, 0.7071068 -1.1E-7 -0.70710677, 1.0 -2.0E-8 0.0, 0.70710677 0.0 0.7071068, 0.0 0.0 1.0, -0.70710677 0.0 0.7071068, -1.0 0.0 -1.0E-7, -0.707107 -6.0E-8 -0.70710653, 0.0 0.0 -1.0, 0.707107 -6.0E-8 -0.70710653, 1.0 0.0 -1.0E-7, 0.7071067 0.0 0.7071068, 0.0 0.0 1.0, -0.7071067 0.0 0.7071068, -0.52442783 -0.8514549 0.0, -0.6218761 -0.4759631 -0.6218755, 0.0 -0.4759633 -0.87946516, 0.47984177 -0.7345095 -0.4798413, 0.8794652 -0.47596315 -4.0E-8, 0.4798414 -0.7345096 0.47984153, 0.0 -0.4759631 0.8794653, -0.6218757 -0.47596318 0.6218759]
                   }#Normal
            texCoord TextureCoordinate {
                  point [0.0 -1.0, 0.0 -0.666667, 0.0 -0.333333, 0.0 6.0E-8, 0.125 -1.0, 0.125 -0.666667, 0.125 -0.333333, 0.125 6.0E-8, 0.25 -1.0, 0.25 -0.666667, 0.25 -0.333333, 0.25 6.0E-8, 0.375 -1.0, 0.375 -0.666667, 0.375 -0.333333, 0.375 6.0E-8, 0.5 -1.0, 0.5 -0.666667, 0.5 -0.333333, 0.5 6.0E-8, 0.625 -1.0, 0.625 -0.666667, 0.625 -0.333333, 0.625 6.0E-8, 0.75 -1.0, 0.75 -0.666667, 0.75 -0.333333, 0.75 6.0E-8, 0.875 -1.0, 0.875 -0.666667, 0.875 -0.333333, 0.875 6.0E-8, 1.0 -1.0, 1.0 -0.666667, 1.0 -0.333333, 1.0 6.0E-8]
                     }#TextureCoordinate
                  }#IndexedFaceSet
               }#Shape
      ]#children
}#Transform
ROUTE CoordInterpBend.value_changed TO Coord.point


DEF L Logger { enabled TRUE 
  # logFile "/tmp/a.txt"
  level 4}#Logger
#ROUTE TT1.triggerTime TO L.write
ROUTE TimerBend.isActive TO L.write
